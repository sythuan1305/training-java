<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Training Java</title>
    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<!--import read-excel-file-->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

    <script>

        function validateForm(form, btn, isCheckRadio = true) {
            let elements = form.elements;
            for (let i = 0; i < elements.length; i++) {

                if (elements[i].tagName.toLowerCase() === "input" && elements[i].value.length === 0) {
                    btn.disabled = (true || !isCheckRadio);
                    return;
                }
            }
            btn.disabled = false　||　!isCheckRadio;
        }
        function getCartInSession() {
            return getCookie('cart') === null ? [] : JSON.parse(atob(getCookie('cart')));
        }
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for(let i = 0; i <ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) === 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return null;
        }

        

        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            let expires = "expires="+ d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            console.log("setCookie: " + cname + "=" + cvalue + ";" + expires + ";path=/");
        }
        //-----------------------
        function checkCartIdInLocalStorage() {
            if (localStorage.getItem("cartId") !== null) {
                let cartId = document.getElementById("cart_id");
                cartId.href = "/user/cart/information?cartId=" + localStorage.getItem("cartId");
            }
        }

        //-------------------
        function decodedStringAndParseJson(string) {
            let parser = new DOMParser();
            let dom = parser.parseFromString('<!doctype html><body>' + string, 'text/html');
            let decodedString = dom.body.textContent;
            console.log("decodedString: " + decodedString);
            return JSON.parse(decodedString);
        }//----------------

        let isAuthenticated = "[[${isAuthenticated}]]";
        let isAdmin = "[[${isAdmin}]]";

    </script>
</head>
<body>
<header th:replace="~{fragments/header :: header}"></header>
<main>
    <div class="">
        <div class="row">
            <aside th:replace="~{fragments/sidebar-left :: sidebar-left}"></aside>
            <section class="content-body col-md-9 ml-sm-auto col-lg-10 px-md-4">
                <div layout:fragment="content">
                    <!-- Main content of the page goes here -->
                </div>
            </section>
        </div>
    </div>
</main>
</body>
</html>